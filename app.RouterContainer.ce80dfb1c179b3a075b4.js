"use strict";(self.webpackChunkgame_of_life=self.webpackChunkgame_of_life||[]).push([[681],{37796:(e,t,r)=>{r.r(t),r.d(t,{default:()=>we});var n,o,i,u=r(96540),c=(r(34782),r(52811),r(27581));const l=c.Ay.div.attrs((function(e){return{children:e.version}}))(n||(o=["\n  position: absolute;\n  bottom: 0;\n  right: 0.5rem;\n"],i||(i=o.slice(0)),n=Object.freeze(Object.defineProperties(o,{raw:{value:Object.freeze(i)}}))));r(52675),r(89463),r(2259),r(23418),r(23792),r(62010),r(26099),r(27495),r(38781),r(47764),r(62953);var a=r(69843),s=r.n(a),f=function(e){var t=e.clientWidth,r=e.clientHeight;e.width===t&&e.height===r||(e.width=t,e.height=r)},y=function(e,t){return e*t},b=function(e){e.strokeStyle="#000000",e.lineWidth=2,e.fillStyle="#EEEEEE",e.beginPath()},m=function(e,t){for(var r=0,n=t.length;r<n;r+=1)for(var o=0,i=t[r].length;o<i;o+=1)t[r][o].render(e)},v=r(98023),p=r.n(v),h=null,d=function(e,t,r,n){if(p()(r)&&p()(n)){for(var o=0,i=t.length;o<i;o+=1)t[o][n].changeHalfHover(e);for(var u=0,c=t[r].length;u<c;u+=1)t[r][u].changeHalfHover(e)}},g=function(e,t,r){var n,o,i;if(null!==(n=h)&&void 0!==n&&n.checkOnHover(t,r))return h;if(d(!1,e,null===(o=h)||void 0===o?void 0:o._x,null===(i=h)||void 0===i?void 0:i._y),h=null,p()(t)&&p()(r))for(var u=0,c=e.length;u<c;u+=1)for(var l=0,a=e[u].length;l<a;l+=1){var s,f,y,b,m;if(e[u][l].checkOnHover(t,r))return d(!1,e,null===(s=h)||void 0===s?void 0:s._x,null===(f=h)||void 0===f?void 0:f._y),null===(y=h)||void 0===y||y.checkOnHover(null,null),h=e[u][l],d(!0,e,null===(b=h)||void 0===b?void 0:b._x,null===(m=h)||void 0===m?void 0:m._y),e[u][l]}},S=function(e){var t,r,n;e?e===(null===(t=h)||void 0===t?void 0:t.status)&&(null===(r=h)||void 0===r||r.toggleLifeStatus()):null===(n=h)||void 0===n||n.toggleLifeStatus()};var O=r(5187),_=r.n(O),j=(r(2008),r(45700),r(89572),r(2892),r(25534));function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function w(e,t,r){return(t=function(e){var t=function(e){if("object"!=E(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=E(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==E(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var P=function(e){return e.IS_LIFE="IS_LIFE",e.IS_DEAD="IS_DEAD",e}({}),I=w(w({},P.IS_LIFE,"#FF0000"),P.IS_DEAD,"#F7F7F7"),D=w(w({},P.IS_LIFE,(0,j.a)(.1,I.IS_LIFE)),P.IS_DEAD,(0,j.e$)(.1,I.IS_DEAD));function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}function x(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,A(n.key),n)}}function A(e){var t=function(e){if("object"!=k(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=k(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==k(t)?t:t+""}var F=function(){return function(e,t){return t&&x(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(t){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._coords=t.coords,this._x=t.x,this._y=t.y,this._ownMatrix=t.matrix,this.status=null!==(r=t.status)&&void 0!==r?r:P.IS_DEAD,this._is_hover=!1,this._is_hover_in_cursor_line=!1,this.gridStroke=t.gridStroke}),[{key:"changeHalfHover",value:function(e){this._is_hover_in_cursor_line=e}},{key:"checkOnHover",value:function(e,t){return function(e,t,r){if(p()(t)&&p()(r))return t>=e[0]&&t<=e[0]+e[2]&&r>=e[1]&&r<=e[1]+e[3]}(this._coords,e,t)?this._is_hover=!0:this._is_hover=!1}},{key:"toggleLifeStatus",value:function(){var e=this.status;this.status===P.IS_DEAD&&(e=P.IS_LIFE),this.status===P.IS_LIFE&&(e=P.IS_DEAD),this.status=e}},{key:"color",get:function(){return this._is_hover?D[this.status]:I[this.status]}},{key:"bg_color",get:function(){return this._is_hover||this._is_hover_in_cursor_line?(0,j.e$)(.2,"#F7F7F7"):(0,j.e$)(.1,"#F7F7F7")}},{key:"renderBg",value:function(e){e.beginPath(),e.fillStyle=this.bg_color,e.fillRect(this._coords[0],this._coords[1],this._coords[2],this._coords[3]),e.closePath()}},{key:"render",value:function(e){this.renderBg(e),e.beginPath(),e.fillStyle=this.color,e.fillRect(this._coords[0]+this.gridStroke,this._coords[1]+this.gridStroke,this._coords[2]-2*this.gridStroke,this._coords[3]-2*this.gridStroke),e.closePath()}}])}();const L=F;var C=function(e,t,r,n,o){for(var i=[],u=0;u<e;u+=1){i.push([]);for(var c=0;c<t;c+=1){var l=o?(a=void 0,s=void 0,s=(a=[P.IS_DEAD,P.IS_DEAD,P.IS_LIFE]).length,a[Math.floor(Math.random()*(s-0))+0]):void 0;i[u][c]=new L({gridStroke:n,matrix:i,x:u,y:c,coords:[r*u,r*c,r,r],status:l})}}var a,s;return i},z=function(e,t,r){for(var n=Math.max(0,t-1),o=Math.min(e.length-1,t+1),i=Math.max(0,r-1),u=Math.min(e[0].length-1,r+1),c=[],l=n;l<=o;l+=1)for(var a=i;a<=u;a+=1)l===t&&a===r||c.push(e[l][a]);return c};var H,T=c.Ay.canvas(H||(H=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  border-radius: 4px;\n  box-shadow: 0 0 4px 1px rgba(0, 0, 0, 0.25);\n"])));const M=T;var R;function q(e){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q(e)}function B(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $(e,t,r){return(t=function(e){var t=function(e){if("object"!=q(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=q(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==q(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r(83851),r(81278),r(79432),r(23500);var W=c.Ay.h1(R||(R=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  font-size: 48px;\n  color: ",";\n"])),(function(e){return e.theme.colors.color_secondary_primary})),G=u.memo((function(e){return u.createElement(W,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?B(Object(r),!0).forEach((function(t){$(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e))}));const U=G,Y=u.memo((function(e){return u.createElement(U,{children:"Conway's Game of Life"})}));var J,K=c.Ay.div(J||(J=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  margin-top: 12px;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  gap: 12px;\n"])));const N=K;var Q,V,X,Z,ee=r(82944);function te(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}const re=c.Ay.button(Z||(Z=te(["\n  ",";\n"])),(function(e){return function(e,t,r){return(0,c.AH)(X||(X=te(["\n  ",";\n  height: 36px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  letter-spacing: 0.2px;\n  font-weight: 600;\n  cursor: ",";\n  outline: none;\n\n  border-radius: 8px;\n  padding: 4px 12px;\n  height: auto;\n\n  &:hover {\n    opacity: ",";\n  }\n  transition: opacity 300ms, color 300ms, border 300ms, background-color 300ms;\n"])),function(e,t,r){return(t?e:!e)?(0,c.AH)(Q||(Q=te(["\n      color: ",";\n      border: ",";\n      background-color: ",";\n    "])),(function(e){var t=e.theme;return r?t.colors.color_grayscale_gray:t.colors.white}),(function(e){var t=e.theme;return"2px solid ".concat(r?t.colors.bg_and_disabled_buttons:t.colors.color_secondary_primary)}),(function(e){var t=e.theme;return r?t.colors.bg_and_disabled_buttons:t.colors.color_secondary_primary})):(0,c.AH)(V||(V=te(["\n    color: ",";\n    border: ",";\n\n    background-color: ",";\n  "])),(function(e){var t=e.theme;return r?t.colors.color_grayscale_gray:t.colors.color_secondary_primary}),(function(e){var t=e.theme;return"2px solid ".concat(r?t.colors.bg_and_disabled_buttons:t.colors.color_secondary_primary)}),(function(e){return e.theme.colors.white}))}(e,t,r),r?"not-allowed":"pointer",r?1:.75)}(e.isActive,e.isInverseColor,e.disabled)}));function ne(e){return ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ne(e)}var oe=["status"];function ie(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ue(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(r),!0).forEach((function(t){ce(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ie(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ce(e,t,r){return(t=function(e){var t=function(e){if("object"!=ne(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=ne(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ne(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var le=u.memo((function(e){var t=e.status,r=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,oe);return u.createElement(re,ue(ue({},r),{},{"aria-label":"Старт/ Пауза"}),"play"===t?u.createElement(ee.ofy,{size:30}):u.createElement(ee.gLA,{size:30}))}));const ae=le;function se(e){return se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},se(e)}function fe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ye(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(r),!0).forEach((function(t){be(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function be(e,t,r){return(t=function(e){var t=function(e){if("object"!=se(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=se(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==se(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const me=u.memo((function(e){return u.createElement(re,ye(ye({},e),{},{"aria-label":"Рандомная генерация значений"}),u.createElement(ee.TDv,{size:30}))}));function ve(e){return ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ve(e)}function pe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function he(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(r),!0).forEach((function(t){de(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function de(e,t,r){return(t=function(e){var t=function(e){if("object"!=ve(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=ve(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ve(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const ge=u.memo((function(e){return u.createElement(re,he(he({},e),{},{"aria-label":"Очистить поле"}),u.createElement(ee.YHc,{size:30}))})),Se=u.memo((function(e){return u.createElement(N,null,u.createElement(ge,{onClick:e.handleTrashClick,isInverseColor:!0}),u.createElement(me,{onClick:e.handleSyncClick,isInverseColor:!0}),u.createElement(ae,{onClick:e.handlePlayClick,status:e.status}))}));function Oe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,u,c=[],l=!0,a=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){a=!0,o=e}finally{try{if(!l&&null!=r.return&&(u=r.return(),Object(u)!==u))return}finally{if(a)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _e(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_e(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _e(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var je={display:"flex",flexDirection:"column",alignItems:"center"};const Ee=u.memo((function(e){var t=u.useRef(null),r=Oe(u.useState(!1),2),n=r[0],o=r[1],i=Oe(u.useState(.5),1)[0],c=Oe(u.useState(10),1)[0],l=Oe(u.useState(90),1)[0],a=Oe(u.useState(45),1)[0],v=Oe(u.useState((function(){return C(l,a,c,i,!0)})),2),p=v[0],h=v[1];return function(e,t,r){u.useEffect((function(){if("pause"===t){var n=e.current,o=n.getContext("2d"),i=!1,u=null,c=function(e){var t=e.x,o=e.y,c=n.getBoundingClientRect(),l=g(r,t-c.x,o-c.y);document.body.style.cursor=l?"pointer":"default",i&&S(u)},l=function(e){g(r,null,null),y(e),document.body.style.cursor="default"},a=function(e){var t=e.x,o=e.y,c=n.getBoundingClientRect(),l=g(r,t-c.x,o-c.y);i=!0,u=l.status},y=function(e){S(u),i=!1,u=null};n.addEventListener("mousemove",c),n.addEventListener("mouseout",l),n.addEventListener("mousedown",a),n.addEventListener("mouseup",y);var v=null,p=function(){v=requestAnimationFrame(p),f(n),b(o),m(o,r)};return requestAnimationFrame(p),function(){n.removeEventListener("mousemove",c),n.removeEventListener("mouseout",l),n.removeEventListener("mousedown",a),n.removeEventListener("mouseup",y),s()(v)||cancelAnimationFrame(v)}}}),["pause"===t,r])}(t,n?"play":"pause",p),function(e,t,r,n){u.useEffect((function(){if("play"===t){var o=null,i=1,u=performance.now(),c=e.current,l=c.getContext("2d"),a=function(e){if(o=requestAnimationFrame(a),e>u+100*i){i+=1;var t=function(e){for(var t,r,n=[],o=0,i=e.length;o<i;o+=1)for(var u=0,c=e[o].length;u<c;u+=1)t=e[o][u],r=z(e,o,u).filter((function(e){return e.status===P.IS_LIFE})).length,(t.status===P.IS_DEAD&&3===r?P.IS_LIFE:t.status!==P.IS_LIFE||3!==r&&2!==r?P.IS_DEAD:P.IS_LIFE)!==e[o][u].status&&n.push(e[o][u]);for(var l=0,a=n.length;l<a;l+=1)n[l].toggleLifeStatus();return!!n.length}(r);t?(f(c),b(l),m(l,r)):n(!1)}};return o=requestAnimationFrame(a),function(){_()(o)||cancelAnimationFrame(o)}}}),["play"===t,r])}(t,n?"play":"pause",p,o),u.createElement("div",{style:je},u.createElement(Y,null),u.createElement(M,{ref:t,width:y(c,l),height:y(c,a)}),u.createElement(Se,{handleTrashClick:function(){o(!1),h(C(l,a,c,i))},handleSyncClick:function(){return h(C(l,a,c,i,!0))},handlePlayClick:function(){return o((function(e){return!e}))},status:n?"play":"pause"}))})),we=u.memo((function(){return u.createElement(u.Suspense,{fallback:null},u.createElement(Ee,null),u.createElement(l,{version:"1.0.16"}))}))}}]);