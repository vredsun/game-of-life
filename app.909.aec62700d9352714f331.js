"use strict";(self.webpackChunkgame_of_life=self.webpackChunkgame_of_life||[]).push([[909],{60909:(e,t,r)=>{r.r(t),r.d(t,{default:()=>qe}),r(52675),r(89463),r(2259),r(23418),r(23792),r(34782),r(62010),r(26099),r(27495),r(38781),r(47764),r(62953);var n=r(96540),o=r(2543),i=function(e){return e.IS_LIFE="IS_LIFE",e.IS_DEAD="IS_DEAD",e}({}),a=10;var l=r(5187),c=r.n(l);function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const s=function(e){var t=e.canvas,r=e.grid,o=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(n.useState(!1),2),i=o[0],a=o[1];return n.useEffect((function(){var e=null==t?void 0:t.getContext("2d");if(i&&e&&r&&t){var n=performance.now(),o=null,l=function(e){if(o=requestAnimationFrame(l),e-n>50)return n=e,r.checkOnAlive()?void r.render():(cancelAnimationFrame(o),void a(!1))};return o=requestAnimationFrame(l),function(){c()(o)||cancelAnimationFrame(o)}}}),[i,r]),[i,a]};r(52811);var f,y,v,m=r(27581);const b=m.Ay.canvas(f||(y=["\n  border-radius: 4px;\n  border: 2px solid black;\n"],v||(v=y.slice(0)),f=Object.freeze(Object.defineProperties(y,{raw:{value:Object.freeze(v)}}))));var d,h=m.Ay.div(d||(d=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  margin-top: 12px;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  gap: 12px;\n"])));const p=h;r(45700),r(2008),r(89572),r(2892),r(83851),r(81278),r(79432),r(23500);var g,w,S,O,j=r(82944);function E(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}const P=m.Ay.button(O||(O=E(["\n  ",";\n"])),(function(e){var t=e.isActive,r=e.isInverseColor,n=e.disabled;return function(e,t,r){return(0,m.AH)(S||(S=E(["\n  ",";\n  height: 36px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  letter-spacing: 0.2px;\n  font-weight: 600;\n  cursor: ",";\n  outline: none;\n\n  border-radius: 8px;\n  padding: 4px 12px;\n  height: auto;\n\n  &:hover {\n    opacity: ",";\n  }\n  transition: opacity 300ms, color 300ms, border 300ms, background-color 300ms;\n"])),function(e,t,r){return(t?e:!e)?(0,m.AH)(g||(g=E(["\n      color: ",";\n      border: ",";\n      background-color: ",";\n    "])),(function(e){var t=e.theme;return r?t.colors.color_grayscale_gray:t.colors.white}),(function(e){var t=e.theme;return"2px solid ".concat(r?t.colors.bg_and_disabled_buttons:t.colors.color_secondary_primary)}),(function(e){var t=e.theme;return r?t.colors.bg_and_disabled_buttons:t.colors.color_secondary_primary})):(0,m.AH)(w||(w=E(["\n    color: ",";\n    border: ",";\n\n    background-color: ",";\n  "])),(function(e){var t=e.theme;return r?t.colors.color_grayscale_gray:t.colors.color_secondary_primary}),(function(e){var t=e.theme;return"2px solid ".concat(r?t.colors.bg_and_disabled_buttons:t.colors.color_secondary_primary)}),(function(e){return e.theme.colors.white}))}(e,t,r),r?"not-allowed":"pointer",r?1:.75)}(Boolean(t),Boolean(r),Boolean(n))}));function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}var A=["isPlaying"];function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){x(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function x(e,t,r){return(t=function(e){var t=function(e){if("object"!=_(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==_(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var I=n.memo((function(e){var t=e.isPlaying,r=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,A);return n.createElement(P,k(k({},r),{},{"aria-label":"Старт/ Пауза"}),t?n.createElement(j.ofy,{size:30}):n.createElement(j.gLA,{size:30}))}));const D=I;function F(e){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F(e)}function H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?H(Object(r),!0).forEach((function(t){L(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function L(e,t,r){return(t=function(e){var t=function(e){if("object"!=F(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=F(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==F(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const T=n.memo((function(e){return n.createElement(P,z(z({},e),{},{"aria-label":"Рандомная генерация значений"}),n.createElement(j.TDv,{size:30}))}));function M(e){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M(e)}function W(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?W(Object(r),!0).forEach((function(t){B(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function B(e,t,r){return(t=function(e){var t=function(e){if("object"!=M(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=M(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==M(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const $=n.memo((function(e){return n.createElement(P,q(q({},e),{},{"aria-label":"Очистить поле"}),n.createElement(j.YHc,{size:30}))})),R=n.memo((function(e){return n.createElement(p,null,n.createElement($,{onClick:e.handleTrashClick,isInverseColor:!0}),n.createElement(T,{onClick:e.handleSyncClick,isInverseColor:!0}),n.createElement(D,{onClick:e.handlePlayClick,isPlaying:e.isPlaying}))}));var U,N;function Y(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}r(62062);const G=m.Ay.div(U||(U=Y(["\n  width: 20px;\n  height: 20px;\n  border-radius: 12px;\n  background-color: ",";\n  transition: transform 300ms;\n  cursor: pointer;\n  border: 1px solid black;\n\n  &:hover {\n    transform: scale(1.2);\n    opacity: 0.9;\n  }\n\n  ","\n"])),(function(e){var t=e.color;return e.theme.colors.cellColors[t]}),(function(e){return e.isActive&&(0,m.AH)(N||(N=Y(["transform: scale(1.4);"])))}));var J,K=m.Ay.div(J||(J=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 8px;\n"])));const Q=K;var V=["red","yellow","black"];const X=n.memo((function(e){return n.createElement(Q,null,V.map((function(t){return n.createElement(G,{key:t,color:t,isActive:t===e.activeColor,onClick:function(){return e.handlePickColor(t)}})})))}));r(73772),r(67348);var Z=r(98023),ee=r.n(Z),te=r(25534),re="#F7F7F7",ne={red:"#f92a2a",yellow:"#fed001",black:"#010101"};function oe(e){return oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oe(e)}function ie(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,le(n.key),n)}}function ae(e,t,r){return(t=le(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function le(e){var t=function(e){if("object"!=oe(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=oe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==oe(t)?t:t+""}function ce(e,t,r){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.set(e,r)}function ue(e,t){return e.get(fe(e,t))}function se(e,t,r){return e.set(fe(e,t),r),r}function fe(e,t,r){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var ye=new WeakMap,ve=new WeakMap,me=function(){return function(e,t){return t&&ie(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(t){var r,n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ce(this,ye,void 0),ce(this,ve,void 0),ae(this,"nextStatus",null),ae(this,"dieCell",(function(){n.status=i.IS_DEAD})),ae(this,"isAlive",(function(){return n.status===i.IS_LIFE})),ae(this,"checkStatus",(function(e){var t=e.reduce((function(e,t){return t.isAlive()&&t.baseColor===n.baseColor&&(e+=1),e}),0),r=!1,o=i.IS_DEAD;return n.status===i.IS_DEAD&&3===t&&(o=i.IS_LIFE),n.status===i.IS_LIFE&&(3!==t&&2!==t||(o=i.IS_LIFE)),n.status!==o&&(r=!0,n.nextStatus=o),r})),ae(this,"changeHover",(function(e){se(ye,n,e)})),this._coords=t.coords,this._x=t.x,this._y=t.y,this.status=null!==(r=t.status)&&void 0!==r?r:i.IS_DEAD,se(ye,this,!1),se(ve,this,!1),this.baseColor=t.baseColor}),[{key:"changeHalfHover",value:function(e){se(ve,this,e)}},{key:"checkOnHover",value:function(e,t){return function(e,t,r){if(ee()(t)&&ee()(r))return t>=e[0]&&t<=e[0]+e[2]&&r>=e[1]&&r<=e[1]+e[3]}(this._coords,e,t)}},{key:"toggleLifeStatus",value:function(e){if(this.baseColor!==e)return this.baseColor=e,void(this.status=i.IS_LIFE);this.status=this.status===i.IS_DEAD?i.IS_LIFE:i.IS_DEAD}},{key:"color",get:function(){return this.status===i.IS_DEAD?ue(ye,this)?(0,te.e$)(.1,re):re:(e=ue(ye,this),t=this.baseColor,r=ne[t],e?(0,te.a)(.1,r):r);var e,t,r}},{key:"bg_color",get:function(){return ue(ye,this)||ue(ve,this)?(0,te.e$)(.2,"#F7F7F7"):(0,te.e$)(.1,"#F7F7F7")}},{key:"renderBg",value:function(e){e.beginPath(),e.fillStyle=this.bg_color,e.fillRect(this._coords[0],this._coords[1],this._coords[2],this._coords[3]),e.closePath()}},{key:"render",value:function(e){this.nextStatus&&(this.status=this.nextStatus,this.nextStatus=null),this.renderBg(e),e.beginPath(),e.fillStyle=this.color,e.fillRect(this._coords[0]+.5,this._coords[1]+.5,this._coords[2]-1,this._coords[3]-1),e.closePath()}}])}();const be=me;var de=[i.IS_DEAD,i.IS_DEAD,i.IS_LIFE],he=function(){return de[(0,o.random)(0,(0,o.size)(de)-1)]};function pe(e){return pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pe(e)}function ge(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return we(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?we(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function we(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Se(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ee(n.key),n)}}function Oe(e,t,r){return t&&Se(e.prototype,t),r&&Se(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function je(e,t,r){return(t=Ee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ee(e){var t=function(e){if("object"!=pe(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=pe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==pe(t)?t:t+""}function Pe(e,t,r){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.set(e,r)}function _e(e,t){return e.get(Ce(e,t))}function Ae(e,t,r){return e.set(Ce(e,t),r),r}function Ce(e,t,r){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")}var ke=new WeakMap,xe=new WeakMap,Ie=new WeakMap,De=new WeakMap,Fe=new WeakMap,He=new WeakMap,ze=new WeakMap;const Le=Oe((function e(t,r){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Pe(this,ke,void 0),Pe(this,xe,void 0),Pe(this,Ie,null),Pe(this,De,null),Pe(this,Fe,(function(e){for(var t=e.row,r=e.column,i=e.isHovered,a=(0,o.size)(_e(xe,n)),l=(0,o.size)(_e(xe,n)[t]),c=0;c<a;c+=1){var u;null===(u=(0,o.nth)((0,o.nth)(_e(xe,n),c),r))||void 0===u||u.changeHalfHover(i)}for(var s=0;s<l;s+=1){var f;null===(f=(0,o.nth)((0,o.nth)(_e(xe,n),t),s))||void 0===f||f.changeHalfHover(i)}})),Pe(this,He,(function(e){_e(Ie,n)&&_e(De,n)&&(_e(Ie,n).nextStatus=_e(De,n)===i.IS_DEAD?i.IS_LIFE:i.IS_DEAD,_e(Ie,n).baseColor=e,_e(Ie,n).render(_e(ke,n)))})),Pe(this,ze,(function(e){for(var t=e.row,r=e.column,i=Math.max(0,t-1),a=Math.min((0,o.size)(_e(xe,n))-1,t+1),l=Math.max(0,r-1),c=Math.min((0,o.size)((0,o.head)(_e(xe,n)))-1,r+1),u=[],s=i;s<=a;s+=1)for(var f=l;f<=c;f+=1){var y=_e(xe,n)[s][f];s===t&&f===r||u.push(y)}return u})),je(this,"randomFill",(function(e){var t,r=ge(_e(xe,n));try{for(r.s();!(t=r.n()).done;){var o,i=ge(t.value);try{for(i.s();!(o=i.n()).done;){var a=o.value;a.baseColor=e,a.status=he()}}catch(e){i.e(e)}finally{i.f()}}}catch(e){r.e(e)}finally{r.f()}n.render()})),je(this,"clear",(function(){var e,t=ge(_e(xe,n));try{for(t.s();!(e=t.n()).done;){var r,o=ge(e.value);try{for(o.s();!(r=o.n()).done;)r.value.dieCell()}catch(e){o.e(e)}finally{o.f()}}}catch(e){t.e(e)}finally{t.f()}n.render()})),je(this,"checkOnAlive",(function(){var e,t=!1,r=0,o=ge(_e(xe,n));try{for(o.s();!(e=o.n()).done;){var i,a=e.value,l=0,c=ge(a);try{for(c.s();!(i=c.n()).done;){var u=i.value,s=_e(ze,n).call(n,{row:r,column:l}),f=u.checkStatus(s);t||(t=f),l+=1}}catch(e){c.e(e)}finally{c.f()}r+=1}}catch(e){o.e(e)}finally{o.f()}return t})),je(this,"fixHoveredCellStatus",(function(e){var t,r;Ae(De,n,null!==(t=null===(r=_e(Ie,n))||void 0===r?void 0:r.status)&&void 0!==t?t:null),_e(He,n).call(n,e)})),je(this,"resetHoveredCellStatus",(function(){Ae(De,n,null)})),je(this,"resetHoveredCell",(function(){_e(Ie,n)&&(_e(Ie,n).changeHover(!1),_e(Fe,n).call(n,{row:_e(Ie,n)._x,column:_e(Ie,n)._y,isHovered:!1}),Ae(Ie,n,null))})),je(this,"hoverCell",(function(e){var t,r=e.activeColor,i=e.row,a=e.column;n.resetHoveredCell(),Ae(Ie,n,null!==(t=(0,o.nth)((0,o.nth)(_e(xe,n),i),a))&&void 0!==t?t:null),_e(Ie,n)&&(_e(Fe,n).call(n,{row:i,column:a,isHovered:!0}),_e(Ie,n).changeHover(!0),_e(He,n).call(n,r))})),je(this,"render",(function(){var e,t=ge(_e(xe,n));try{for(t.s();!(e=t.n()).done;){var r,o=ge(e.value);try{for(o.s();!(r=o.n()).done;)r.value.render(_e(ke,n))}catch(e){o.e(e)}finally{o.f()}}}catch(e){t.e(e)}finally{t.f()}})),Ae(ke,this,t),Ae(xe,this,function(e){for(var t=[],r=0;r<90;r+=1){t.push([]);for(var n=0;n<60;n+=1)t[r].push(new be({baseColor:e,status:he(),x:r,y:n,coords:[a*r,a*n,a,a]}))}return t}(r))}));function Te(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Me(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Me(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Me(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var We={paddingTop:"50px",display:"flex",flexDirection:"column",alignItems:"center"};const qe=n.memo((function(){var e=n.useRef(null),t=Te(n.useState("red"),2),r=t[0],i=t[1],l=Te(n.useState(null),2),c=l[0],u=l[1];n.useEffect((function(){var t,n=null===(t=e.current)||void 0===t?void 0:t.getContext("2d");if(n){var o=new Le(n,r);o.render(),u(o)}}),[]);var f=Te(s({canvas:e.current,grid:c}),2),y=f[0],v=f[1];return function(e){var t=e.canvas,r=e.activeColor,i=e.grid,l=e.isPlaying;n.useEffect((function(){var e=null==t?void 0:t.getContext("2d");if(!l&&t&&e&&i){var n=function(e){var n=e.x,o=e.y,l=t.getBoundingClientRect();i.hoverCell({activeColor:r,row:(n-l.x)/a,column:(o-l.y)/a})},c=function(){i.resetHoveredCell()},u=function(){i.fixHoveredCellStatus(r)},s=function(){i.resetHoveredCellStatus()};t.addEventListener("mousemove",n),t.addEventListener("mouseout",c),window.addEventListener("mousedown",u),window.addEventListener("mouseup",s);var f=null,y=function(){f=requestAnimationFrame(y),i.render()};return requestAnimationFrame(y),function(){t.removeEventListener("mousemove",n),t.removeEventListener("mouseout",c),window.removeEventListener("mousedown",u),window.removeEventListener("mouseup",s),(0,o.isNil)(f)||cancelAnimationFrame(f)}}}),[r,i,l])}({canvas:e.current,activeColor:r,isPlaying:y,grid:c}),n.useEffect((function(){var t,r=e.current,n=null===(t=e.current)||void 0===t?void 0:t.getContext("2d");if(r&&n){var i=null,a=function(){i=requestAnimationFrame(a),function(e){var t=e.clientWidth,r=e.clientHeight;e.width===t&&e.height===r||(e.width=t,e.height=r)}(r)};return requestAnimationFrame(a),function(){(0,o.isNil)(i)||cancelAnimationFrame(i)}}}),[]),n.createElement("div",{style:We},n.createElement("div",{style:{display:"flex",gap:"12px"}},n.createElement("div",null),n.createElement(b,{ref:e,width:900,height:600}),n.createElement(X,{activeColor:r,handlePickColor:i})),n.createElement(R,{handleTrashClick:function(){v(!1),null==c||c.clear()},handleSyncClick:function(){v(!1),null==c||c.randomFill(r)},handlePlayClick:function(){return v((function(e){return!e}))},isPlaying:y}))}))}}]);